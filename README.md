# visible_sat_drawing

　ある場所から見て可視範囲に入る衛星を軌跡写真のように表示します。
 https://sugawa-seimei.github.io/visible_sat_drawing/index.html

## 使い方

　衛星のTLE情報と観測地点の緯度、経度、高度と日時を入力して「計算開始」を押すと、
仰角0度以上に見える衛星をリストアップし、極座標図に±2.5分の軌跡を表示します。
指定時間の位置には点がつきます。TLEの衛星名部分(0行目)は24文字になるように半角スペースで埋めてください。

　リストをクリックすると、対象の衛星の軌跡が赤色で表示されます。
見出し行の「↑」や「↓」をクリックすると昇順・降順でソートできます。
（ロード時に表示されている表では機能しません。）

　極座標図をドラッグすると方位、仰角の範囲を指定でき、
「AZ(方位),EL(仰角)の範囲を絞る」をクリックすると、
指定時間にその範囲に位置する衛星のみをリストに表示します。
「フィルタ解除」でこの機能を解除します。

　「リアルタイム」のチェックボックスをONにすると、
 「計算開始」を押してすべての描画が完了した１秒後に
 日時を現在時刻に設定して再度計算を開始します。つまり動画っぽくなります。
 （なんとなく遊びで実装したけどプラネタリウムっぽくてちょっと楽しい。）
 
#### そもそも「TLE」ってなに？って人へ
衛星の一般摂動情報を二行の文字列で表したものです。↓みたいなやつです。

ISS (ZARYA)             
1 25544U 98067A   22323.21216435  .00009553  00000+0  17464-3 0  9992  
2 25544  51.6441 288.6194 0006892  90.0874  90.6776 15.50074559369222  

良くわからないけど見たい!って人は[CelesTrak](#celestrak-current-gp-element-sets)などから気に入ったやつをTLEをコピペしてください。

## リストや極座標図の見かた
### リストの項目
#### id
入力されたTLEのうち上から何番目に位置するかを表示します。計算データ上のid
#### 衛星名
TLEのいわゆる0行目にあたる部分に記載された衛星名
#### AZ
方位です。北を0度として時計回りです。0度で北、90度で東、180度で南、270度で西
#### EL
仰角です。0度で水平方向、90度で真上です。
#### NORAD
NORAD IDです。その衛星についていろいろ検索するときに必要になることでしょう。

### 極座標図の見かた
そんな解説することもありませんが…

北を図の上方向として、円の中心から見た方位が方位です。円の端に見出しの数字をつけてます。

円の中心に近づけば近づくほど仰角が高いです。等仰角線を22.5度、45度、67.5度で振ってます。

 ## 参考・ライブラリ等
 
#### Orb Calc Skelton
https://output.jsbin.com/zepowum 

 このソースを土台にさせていただきました。というよりほぼパクりましたスイマセン。

####  orb.js
https://github.com/lizard-isana/orb.js

 Orb Calc Skeltonの方でも使用しているorb.v2.jsを使わせていただきました。
この用途だったらorb-satellite.v2.jsでもいいけど、ここもOrb Calc Skeltonをパクりました。
 
####  new.css
https://newcss.net/

 デザイン考えるのめんどくさかったので使わせていただきました。
若干ボタンが太かったりしたので少しpaddingをいじって、
textareaも横幅100%指定をなくしました。

#### CelesTrak: Current GP Element Sets
https://celestrak.org/NORAD/elements/

CelesTrakのTLE検索ページです。デフォルトで入ってるTLEもここから検索しました。
